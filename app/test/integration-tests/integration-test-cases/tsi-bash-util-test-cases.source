#!/bin/bash

source "$(dirname ${BASH_SOURCE})/../../../scripts/config.source" \
    || exit "1"

script_name="$(basename ${BASH_SOURCE})"
cur_test_num="0"
tested_file_path="$(pwd)/$(dirname ${BASH_SOURCE})/../../../scripts/tsi-bash-util"

(( ++cur_test_num ))
("${tested_file_path}" > "/dev/null")
handle_test_exit_status \
    "${no_param_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "--version" "" > "/dev/null")
handle_test_exit_status \
    "${too_many_params_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" > "/dev/null")
handle_test_exit_status \
    "${invalid_command_args_count_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "abc" > "/dev/null")
handle_test_exit_status \
    "${unrecognized_command_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" "" > "/dev/null")
handle_test_exit_status \
    "${empty_command_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" "abc" > "/dev/null")
handle_test_exit_status \
    "${unrecognized_command_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" "doc" > "/dev/null")
handle_test_exit_status \
    "${invalid_command_args_count_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" "tree" > "/dev/null")
handle_test_exit_status \
    "0" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" "tree" "--name" > "/dev/null")
handle_test_exit_status \
    "${invalid_command_args_count_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"

(( ++cur_test_num ))
("${tested_file_path}" "create" "tree" "" "" "" > "/dev/null")
handle_test_exit_status \
    "${invalid_command_args_count_err_exit_status}" \
    "${?}" \
    "${cur_test_num}" \
    "${script_name}"